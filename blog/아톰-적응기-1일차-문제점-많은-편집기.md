# [아톰 적응기 1일차: 문제점 많은 편집기](https://only2sea.wordpress.com/2016/02/11/아톰-적응기-1일차-문제점-많은-편집기/) #

[이맥스(Emacs)](https://www.gnu.org/software/emacs/)를 쓰다가
[아톰(Atom)](https://atom.io/) 편집기로 넘어온 아톰 초보의 경험을 글로 정리해
보고자 한다. 아톰으로 넘어온 첫 날.

## 편집기 안에서 해결하기 ##

나는 이맥스 사용자로서 모든 것을 편집기 안에서 해결하려는 이상한 습성이
있다. 일단 [browser-plus](https://atom.io/packages/browser-plus)라는 확장을
설치하였다. 정상적이지 않은 사용자로 보일지도 모르겠지만 워드프레스에 글을 쓰는
것도 편집기 안에서 해야 된다는 생각이 들어서다. 설치 즉시 `Ctrl+Alt+O`를 누르면
이제 편집기 안에서 브라우저가 열린다. 이맥스에서는
[w3m-emacs](https://www.emacswiki.org/emacs/emacs-w3m) 혹은
[eww](https://www.google.com/search?as_q=eww%20emacs&gfe_rd=ssl&ei=DMW8VomlA-SD8QfJ-aiABQ)이용해서
브라우징을 하기도 했지만 자바스크립트가 많이 들어간 복잡한 웹사이트는 이용할 수
없는 시대에 뒤떨어진 점이 분명 있었다. 이제 그럴 걱정 없을 거라고 생각했지만 뭔가
현실은 다르다.

브라우저가 편집기에 붙어 있기는 하지만 이것이 편집기의 인터페이스와 결합이 되어
있지 않다. 당연한 얘기겠지만 워드프레스를 편집기 내에서 연 다음에 글을 작성하다가
줄 끝에 있는 공백 제거 같은 기능들을 수행한다고 해도 워드프레스 내에서 내가
작성하던 글의 마지막 공백 문자가 지워지거나 하는 일을 일어나지 않았다. 텍스트들을
영역 설정한 뒤에 해도 마찬가지였다. 내가 너무 마법을 바랬던 것일까? 게다가 더 큰
문제점은 편집기 단축키 때문에 워드프레스 단축키들이 동작하지 않는 경우들이
생긴다는 것이다. 그리고 크롬 브라우저의 확장 기능들을 설치하지도 못할 것이다.

좋은 점은 겨우 편집기 안에서 탭을 이동하는 방식으로 분서와 텍스트 편집 탭을 쉽게
이동할 수 있고, 한 쪽에 문서를 띄워놓고 코딩을 할 수 있으며, 외부 브라우저를 아예
닫아 버린다면 메모리를 아낄 수 있다는 것 정도일 것이다.

이제 편집기를 배워보려고 Help 메뉴에 있는 Documentation을 선택해 보았다. 문서가
열린다. 그런데 외부 브라우저에 열린다.

이맥스 사용자로 중요한 점 중에 하나는 편집기 안에서 모든 일을 해결할 수 있는
점이다. 이것은 이맥스 뿐만 아니라 과거의 볼란드 IDE 등 많은 IDE들이 지원하던
것들이다. 물론 그 때는 도스(DOS) 시절이어서 앱 전환이 안 되었기 때문에 관련
문서나 튜토리얼들이 편집기 안에서 수행될 수 밖에 없었다. 이맥스가 편집기 안에서
튜토리얼이나 도움말을 모두 볼 수 있게 되어 있는 것도 구닥다리 시대적 유물인지도
모른다. 그러나 어쨌든 편집기에 대해서 배우는 것을 외부 브라우저를 통해서 보게
되어 있는 점은 아톰이라는 편집기가 이맥스적인 것들을 현대적으로 구현하려 했지만
여전히 꽤 다른 철학을 갖고 있을지도 모른다는 생각이 든다.

마음을 가다듬고 너무 사소한 것이 불만 갖지 말자. 어쨌든 다시 그 매뉴얼을 억지로
편집기 안에 browser-plus 탭을 하나 만들어서 연다. 그래. 나는 이런 사람이다.

## 튜토리얼 ##

튜토리얼을 읽어보니 Why Atom으로 시작하는 첫 부분은 내가 생각하고 있는 철학과
비슷했다. 커스터마이징이 가능한 편집기를 만들면서도 편리한 사용자 인터페이스를
위하여 편집기를 웹앱으로 만들지 않고 브라우저로 만들고 그 안에서 각종 확장
기능들이 동작하는 방식으로 이 부분은 내가 원하는 방향과 완전히 맞아
들어갔다. 아마도 방금 내가 겪은 어려움은 처음 시작하는 사람에게는 오히려 편리한
것이라 생각한다. 편집기 안에서 튜토리얼이 뜨는 것을 불편하게 여기는 사람이 많을
것이다.

내용 부분을 버퍼라고 부르는데 이것은 이맥스 용어와 동일하다. 디렉토리 하나당 창이
하나씩 열리는 구조인 듯 하다. 프로젝트 디렉토리 하나를 통째로 두고 사용하면
되는데, 프로젝트 내에서 파일을 찾는 것은 편리하다. 프로젝트 크기가 매우 큰
경우에는 어떻게 될지 아직 시험해 보지 않았다.

## 꼼꼼하지 못한 수많은 버그 ##

리눅스용에서만 생기는 문제일지 모르겠는데 굉장히 불편한 문제를 발견했다. 텍스트
편집을 하지 않는 다른 탭(예를 들어 Welcome 탭이나 브라우저 탭)으로 이동한 뒤 다시
텍스트 편집 탭으로 돌아왔을 때, 커서가 사라져서 마우스로 텍스트 부분을 클릭해
주어야 한다는 점이었다. 마우스로 클릭하여 다른 탭으로 갔다가 온 경우는 이 문제가
발생하지 않는다. 그러나 키보드 단축키 `Ctrl+Tab`이나 `Ctrl+PgUp/PgDn`키 혹은
`Alt+숫자`를 이용하여 탭을 이동하면 커서가 사라진다. 키보드만으로 편집기를
사용하고자 하는 사람에게 이런 점은 굉장히 불편하고 짜증스러운 일이다.

패키지를 설치를 하였는데 제대로 로딩이 안 되는 문제도
있다. [경쟁 상태(Race Condition)](https://ko.wikipedia.org/wiki/경쟁_상태)에 빠진
건지 될 때도 있고 안 될 때도 있고 하면서 꼬였다. 무엇보다도 메시지들이 모두
출력되는 메시지 버퍼가 없어서 무슨 일이 일어나고 있는지 숨겨져 있어서 매우
불편했다. `apm`으로 패키지를 설치를 했는데 제대로 안 되는 경우라거나 로딩 중에
멈춰 있는데 이유를 알기 어려웠다. 문제가 있는 해당 패키지를 지워도 문제가
사라지지 않고 한번 꼬이면 모든 패키지를 다 지우고 몇 번 재시작해야 문제가
풀렸다.

편집기를 바꿀 때, 기존의 편집기에서 잘 활용하던 기능을 이용하기보다는 자주
사용하지 않거나 새 편집기에서 잘 할 수 있는 것 위주로 사용하면 바꾸기
편리하다. 그래서 아톰 편집기를
[마크다운](https://ko.wikipedia.org/wiki/마크다운) 편집기로 쓰기로
했다. 이맥스로도 실시간 미리보기를 보면서 마크다운 편집을 할 수 있지만
[markdown-preview-mode](https://www.emacswiki.org/emacs/MarkdownPreviewMode)
패키지를 설치해야 하는 반면에, 아톰에서는 기본으로 이 기능을 제공해 주기
때문이다. 그런데 얼마 쓰지 않아서 금방 버그를 발견했다.

볼드를 하기 위해서는 `**볼드**`와 같이 양 옆에 별표를 둘 붙여 주어야
한다. 마크다운에서 이것은 반드시 단어의 첫 부분에서 시작하고 단어의 끝 부분에서
끝나야 하는 것은 아니다. 그래서 `**마크다운**을`과 같이 마크다운이라는 단어만
강조할 때, 마크다운 네 글자만 볼드 처리가 되어야 한다. 물론 마크다운 엔진의
문제는 없어서 미리보기 화면에서는 제대로 나오는데 문법 강조(Syntax Highlighting)
기능이 오동작해서 볼드 영역이 끝나지 않는다. 문서 끝까지 볼드가 된다. 그냥 편집
화면에서 눈으로 보기에만 있는 문제지만 여전히 문제다. 버그 리포팅을 했는데, 이런
굉장히 기본적인 것부터 버그가 많아서 쓰는 내내 불편하고 불안했다.

버그라고 하긴 뭣하지만 `Ctrl+M`을 이용하여 짝 맞는 괄호를 왔다갔다 이동할 때
불편한 점이 있다. `(a)(b)(c)(d)` 이렇게 되어 있는 텍스트에서 맨 처음에 커서를
놓고 이 단축키를 반복적으로 누르면 맨 뒤로 가 버린다. 왜 그런지 이유는 알겠는데,
이맥스의 `Ctrl+Alt+F`와 `Ctrl+Alt+B`와 비교하면 불편했다.

매뉴얼은 뭔가 꼬여있고 지저분했다. 1장 1절의 Why Atom의 경우에는 왼쪽에 목차에
나타나지도 않고 다른 문서들이 목차에 나타났다. 매뉴얼 웹 사이트를 돌아다니다보면
온갖 버그와 꼬여있는 부분들이 많았다. 페이지를 넘기는데 버전이 달라지기도 하고
일관성이 없게 되어 있다. 솔직히 말해서 엉망이다. 미완성인 부분이 많은 사람과
일하는 것은 괜찮은데, 이런 식으로 꼬여있는 부분에서 꼼꼼하지 않은 사람과 일하는
것이 참 불편한데 딱 그 느낌이다.

## 일관성 없는 인터페이스 ##

그러나 가장 큰 문제는 패키지들의 인터페이스에 있다. 현재 커서가 놓여 있는 함수의
선언/정의 부분으로 가려면 `Symbols View: Go to declaration` 기능을 사용하면
된다. 단축키는 `Ctrl(Cmd)+Alt+Down`이다. 그런데 [고(Go)](https://golang.org/)
코드에서는 이것이 동작하지 않았다. 그래서 살펴보니
[go-plus](https://atom.io/packages/go-plus)라는 패키지를 설치하면
[godef](https://github.com/rogpeppe/godef) 등 다른 도구를 이용하여 이것을
동작하게 해 준다. 설치하고 나서 다시 `Go to declaration`을 해 보니 여전히
동작하지 않았다. 선언/정의로 가려면 `Golang Godef`라는 다른 기능을 사용해야
한다! 단축키도 다르다. `Alt+Cmd+G`이다. 그렇다는 말은 패키지를 새로 설치할 때마다
새 패키지의 사용법을 배워야 한다는 것이다!

이것은 심각한 문제다. 이맥스를 쓸 때 좋은 점은 배우는데 시간이 적게 든다는
것이다. 배우는데 시간이 많이 걸릴 것 같은데 적게 걸린다는 말은 무엇인가? 이것은
마치 새로운 한자를 배울 때 시간이 적게 걸리는 것과 비슷할지도
모르겠다. 이맥스에서 버퍼를 읽기 전용과 쓰기가 가능한 상태로 바꾸는 단축키는
`Ctrl+X Ctrl+Q`이다. 그러면 파일 목록을 열어온 상태라고 하자. 여기서 현재 커서가
놓여져 있는 파일 이름을 변경하는 `R`이라는 단축키가 있지만 사실 `Ctrl+X Ctrl+Q`를
눌러서 현재 버퍼를 편집 가능한 상태로 바꾼 뒤에 파일 이름을 텍스트 편집하듯이
하면 된다. 그리고 저장하기 단축키를 누르면 파일 이름 변경이 적용이 된다. 다음
문장으로 건너 뛰는 단축키가 프로그램 소스 코드에서는 다음 명령으로 건너 뛰는
기능으로 변경된다. 텍스트에서 이전 문장과 이후 문장을 바꾸는 명령은 프로그램 소스
코드에서 이전 명령과 이후 명령을 바꾸는 기능으로 둔갑하며, 텍스트에서 단어의
위치를 바꾸는 명령은 프로그램 소스 코드에서 함수 호출 시 매개 변수의 위치를
바꾸는 기능으로 탈바꿈한다. 그렇기 때문에 이맥스를 사용할 수 있으면 새로운
패키지에서도 이전에 쓰던 단축키를 다르게 동작하지만 개념상으로는 같은 기능들을
직관적으로 사용할 수 있다. 직접 단축키를 할당하고 새로운 기능을 개인적으로
추가하는 과정에서도 처음에는 기능들을 잘 몰라서 새로운 단축키를 만들었다가 해당
기능이 필요한 문맥에서 이미 있는 다른 기능을 개념적으로 대체하는 경우라면
이것들의 기능을 합치는 과정을 거치다보면 단축키의 갯수는 늘어나지 않는다. 그러나
아톰 편집기의 패키지들이 이런 식이면 패키지 하나마다 사용법을 따로 배워야 한다는
것이다. 패키지가 다른 패키지와 협력할 수 없는 것이라면 이것은 매우 안타까운
일이다. 그런데 자바스크립트의 세계에서는 분명 이것이 가능하기 때문에 이 문제가
그저 `go-plus` 패키지를 만든 사람이 제대로 못 만들어서 발생한 결과이길 바란다.

그러니까 이맥스의 세계가 물리학에서 말하는
[통일장 이론](https://namu.wiki/w/통일장%20이론)으로 최대한 나아가려는 노력을
하고 있다면, 아톰은 그런 거 없다.

다른 매우 불편한 점은 매뉴얼에 단축키 설명은 되어 있지만 기능 이름이 무엇인지는
전혀 설명하고 있지 않다는 점이다. 맥 기준으로 단축키가 설명되어 있어서 맥이 아닌
경우에는 해당 기능의 단축키를 찾아 봐야 하는데 기능의 이름을 모르니 커맨드
팔레트에서 이름을 찾을 수가 없다. 웹 검색을 통하여 커맨드 이름을 하나하나
알아내야 했다.

예를 들어서 영역 설정한 곳에서 커서를 여럿 보여주는 기능이다. 다음과 같이 나와
있다.

> `cmd-shift-L` Convert a multi-line selection into multiple cursors

근데 리눅스에서 단축키는 저것이 아니기 때문에 찾아내려고 했는데 찾지
못했다. 그러면 어떤 커맨드인지는 알아야 할 것 아닌가? 커맨드 팔레트를 연 다음에
convert, multi, cursor 등으로 열심히 찾았는데 찾는 것에 실패했다. 열심히 웹
검색을 해서 해당 커맨드가 `editor:split-selections-into-lines`라는 것을
알아냈다. 전부 이런 식이니 미칠 노릇이다. 이맥스에서는 상상도 할 수 없는 일이다.

일단 매뉴얼에 커맨드 이름이 뭔지는 반드시 알려주고 거기에 바인딩 되어 있는
단축키를 알려 줘야 한다는 생각이 든다. 그리고 어떤 단축키를 눌렀을 때 어떤
커맨드가 실행되는지 찾을 수 있는 방법이 없다. 커맨드 팔레트는 단축키로 검색할
수는 없다.

## 좋은 점 ##

`Ctrl+T` 및 `Ctrl+B`를 누르면 나오는 `Fuzzy Finder` 기능은 꽤 훌륭했다. 비교적
빠르고 편리하게 동작한다.

## 아톰과 하루를 보내고 ##

그러고 보니 이맥스는 참 훌륭한 편집기다. 수십년 동안 개발되어 온 편집기를 무시할
수는 없는 노릇이다. 그러나 앞으로 점점 지는 해가 될 편집기보다는 새로 떠오르는
편집기를 열심히 사용해 보겠다는 마음가짐으로 그리고 좋은 점도 있다는 것을
생각하고 계속 적응해 봐야겠다.
